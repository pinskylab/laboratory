<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.11 (457846)"/><meta name="keywords" content="Pinsky, seq, seq07"/><meta name="altitude" content="27"/><meta name="author" content="Michelle Stuart"/><meta name="created" content="2015-05-04 18:25:27 +0000"/><meta name="latitude" content="40.54497283154127"/><meta name="longitude" content="-74.51113418656514"/><meta name="updated" content="2018-10-17 10:28:55 +0000"/><title>SEQ07</title></head><body><div><a href="SEQ07.html.resources/SEQ07_seq_processing.ipynb">SEQ07_seq_processing.ipynb</a></div><div><br/></div><div><a style="color: rgb(105, 170, 53);" href="evernote:///view/603126/s5/436ec9ef-cc29-4f66-8052-60224e867a01/436ec9ef-cc29-4f66-8052-60224e867a01/">2018-10-17 Wednesday</a></div><div><ul><li>finished and <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">waiting for 2 more seqs to start trim, map, read</span></li><li><a href="SEQ07.html.resources/move_regenos.sh">move_regenos.sh</a></li><li><a href="SEQ07.html.resources/seq_proc.nb.html">seq_proc.nb.html</a></li><li><a href="SEQ07.html.resources/regenos_from_SEQ07.csv">regenos_from_SEQ07.csv</a></li></ul></div><div><a style="color: rgb(105, 170, 53);" href="evernote:///view/603126/s5/85651be9-8235-4e3c-8642-bf3c74aae928/85651be9-8235-4e3c-8642-bf3c74aae928/">2018-10-16 Tuesday</a></div><ul><li>Changing the process pool scripts to move to the correct location.</li><li>Started process radtags, should be done around 4:30pm (during lab meeting)</li></ul><div><a style="color: rgb(105, 170, 53);" href="evernote:///view/603126/s5/96627b17-fa18-4019-b4b5-09342b65c606/96627b17-fa18-4019-b4b5-09342b65c606/">2018-10-15 Monday</a></div><ul><li>started bcsplit, should be done around 7:30pm tonight</li></ul><div><br/></div><div>7-13-2015</div><ul><li>make an index file for barcode splitter In the bcsplit directory:</li><ul><li>In google sheets, make a file that contains the Pool ID’s in the first column and corresponding illumine index in the second column, separated by tabs.</li><table style="table-layout: fixed; font-size: 13px; border-collapse: collapse; min-width: 100%;" dir="ltr"><colgroup><col style="width: 118px;"/><col style="width: 118px;"/></colgroup><tbody><tr><td style="vertical-align: bottom; font-size: 100%; white-space: normal; text-align: center; border: 1px solid rgb(0, 0, 0); width: 118px; padding: 8px;"><span style="font-size: 100%; color: rgb(0, 0, 0); font-family: arial, sans, sans-serif; font-weight: bold;">P016</span></td><td style="vertical-align: bottom; border: 1px solid rgb(204, 204, 204); width: 118px; padding: 8px;"><span style="font-size: 13px; font-family: arial, sans, sans-serif;">ATCACG</span></td></tr><tr><td style="vertical-align: bottom; font-size: 100%; white-space: normal; text-align: center; border: 1px solid rgb(204, 204, 204); width: 118px; padding: 8px;"><span style="font-size: 100%; color: rgb(0, 0, 0); font-family: arial, sans, sans-serif; font-weight: bold;">P017</span></td><td style="vertical-align: bottom; border: 1px solid rgb(204, 204, 204); width: 118px; padding: 8px;"><span style="font-size: 13px; font-family: arial, sans, sans-serif;">ACAGTG</span></td></tr><tr><td style="vertical-align: bottom; font-size: 100%; white-space: normal; text-align: center; border: 1px solid rgb(204, 204, 204); width: 118px; padding: 8px;"><span style="font-size: 100%; color: rgb(0, 0, 0); font-family: arial, sans, sans-serif; font-weight: bold;">P018</span></td><td style="vertical-align: bottom; border: 1px solid rgb(204, 204, 204); width: 118px; padding: 8px;"><span style="font-size: 13px; font-family: arial, sans, sans-serif;">GCCAAT</span></td></tr><tr><td style="vertical-align: bottom; font-size: 100%; white-space: normal; text-align: center; border: 1px solid rgb(204, 204, 204); width: 118px; padding: 8px;"><span style="font-size: 100%; color: rgb(0, 0, 0); font-family: arial, sans, sans-serif; font-weight: bold;">P019</span></td><td style="vertical-align: bottom; border: 1px solid rgb(204, 204, 204); width: 118px; padding: 8px;"><span style="font-size: 13px; font-family: arial, sans, sans-serif;">GATCAG</span></td></tr></tbody></table><div><br/></div></ul><li>Run barcode splitter on 1st lane </li><ul><li><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 00_working]$ </span><span style="background-color: rgb(225, 225, 225); font-size: 11px; color: rgb(255, 47, 146); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">NOHUP</span><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;"> </span><a style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;" href="http://barcode_splitter.py/">barcode_splitter.py</a><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;"> --bcfile SEQ07_index.tsv --idxread 2 --suffix .fastq.gz /local/shared/pinsky_lab/sequencing/hiseq_2015_05_01_SEQ07/clownfish-ddradseq-seq07-for-231-cycles-h3mgjbcxx_1_read_1_passed_filter.fastq.gz /local/shared/pinsky_lab/sequencing/hiseq_2015_05_01_SEQ07/clownfish-ddradseq-seq07-for-231-cycles-h3mgjbcxx_1_read_2_index_read_passed_filter.fastq.gz </span></li><li>can ctrl-z, bg to run in background (or nohup)</li><li>rename unmatched files:</li><ul><li><span style="font-size: 14px; background-color: rgb(235, 235, 235); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion bcsplit]$ mv unmatched-read-1.fastq.gz seq07-unmatched-read-1.fastq.gz</span><br/><span style="font-size: 14px; background-color: rgb(235, 235, 235); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion bcsplit]$ mv unmatched-read-2.fastq.gz seq07-unmatched-read-2.fastq.gz </span></li></ul><li>move all of these files into a "lane 1 directory” or lane 2  will overwrite</li><li><span style="font-size: 14px; background-color: rgb(235, 235, 235); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion bcsplit]$ mkdir lane1</span><br/><span style="font-size: 14px; background-color: rgb(235, 235, 235); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion bcsplit]$ mv P01* ./lane1/</span></li></ul><li>Run barcode splitter on 2nd lane </li><ul><li><span style="background-color: rgb(235, 235, 235); font-size: 14px; font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion bcsplit]$ nohup </span><a style="background-color: rgb(235, 235, 235); font-size: 14px; font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;" href="http://barcode_splitter.py/">barcode_splitter.py</a><span style="background-color: rgb(235, 235, 235); font-size: 14px; font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;"> --bcfile SEQ07_index.tsv --idxread 2 --suffix .fastq.gz /local/shared/pinsky_lab/sequencing/hiseq_2015_05_01_SEQ07/clownfish-ddradseq-seq07-for-231-cycles-h3mgjbcxx_2_read_1_passed_filter.fastq.gz /local/shared/pinsky_lab/sequencing/hiseq_2015_05_01_SEQ07/clownfish-ddradseq-seq07-for-231-cycles-h3mgjbcxx_2_read_2_index_read_passed_filter.fastq.gz </span></li></ul><li>combine all of the results:</li><ul><li><span style="font-size: 14px; background-color: rgb(235, 235, 235); color: rgb(255, 38, 0); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion bcsplit]$ cat ./seq07-unmatched-read-1.fastq.gz ./unmatched-read-1.fastq.gz &gt; seq07-unmatched-read-1.fastq.gz</span><br/><span style="font-size: 14px; background-color: rgb(235, 235, 235); color: rgb(255, 38, 0); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">cat: ./seq07-unmatched-read-1.fastq.gz: input file is output file</span></li><li><span style="font-size: 14px; background-color: rgb(235, 235, 235); color: rgb(0, 143, 0); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">cat ./seq07-unmatched-read-1.fastq.gz ./unmatched-read-1.fastq.gz &gt; SEQ07-unmatched-read-1.fastq.gz</span></li><li><span style="font-size: 14px; background-color: rgb(235, 235, 235); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion bcsplit]$ cat ./seq07-unmatched-read-2.fastq.gz ./unmatched-read-2.fastq.gz &gt; SEQ07-unmatched-read-2.fastq.gz</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion bcsplit]$ cat ./lane1/P016-read-1.fastq.gz ./P016-read-1.fastq.gz &gt; PO16.fastq.gz</span></li><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion bcsplit]$ cat ./lane1/P017-read-1.fastq.gz ./P017-read-1.fastq.gz &gt; P017.fastq.gz</span></li><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion bcsplit]$ cat ./lane1/P018-read-1.fastq.gz ./P018-read-1.fastq.gz &gt; P018.fastq.gz</span></li><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion bcsplit]$ cat ./lane1/P019-read-1.fastq.gz ./P019-read-1.fastq.gz &gt; P019.fastq.gz</span></li><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion bcsplit]$ cd lane1/</span></li><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion lane1]$ rm *-2.fastq.gz</span></li></ul><li>Created a barcodes file: from the sample_data spreadsheet, copied the barcodes column from the barcodes tab and pasted into nano, saved as barcodes in 00_working directory</li><li>make directories for Pools</li><ul><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 00_working]$ mkdir 16Pool 17Pool 18Pool 19Pool 30Pool 31Pool 32Pool 33Pool</span></li></ul><li>Run process_radtags on pools</li><ul><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">#!/bin/bash</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">process_radtags -b barcodes -c -q -r \</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">--renz_1 pstI --renz_2 mluCI \</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">-i gzfastq \</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">--adapter_1 ACACTCTTTCCCTACACGACGCTCTTCCGATCT \</span><br/><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">-f  ./bcsplit/</span><span style="background-color: rgb(255, 250, 165); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;-evernote-highlight:true;">P016</span><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">.fastq.gz \</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">-o ./<span style="background-color: rgb(255, 250, 165); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;-evernote-highlight:true;">16Pool</span></span></li></ul></ul><div><br/></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">950  mv </span><a style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;" href="http://process.sh/">process.sh</a><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;" /><a style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;" href="http://16process.sh/">16process.sh</a></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  951  nohup ./16process.sh</span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  952  less nohup.out</span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  953  nano <a style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;" href="http://16process.sh/">16process.sh</a></span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  954  nohup ./16process.sh</span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  955  less nohup.out</span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  956  rm nohup.out</span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  957  nano  <a style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;" href="http://16process.sh/">16process.sh</a></span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  958  ls</span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  959  nohup ./16process.sh</span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  960  cd 00_working/19Pool/</span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  961  cp ../18Pool/18process.sh ./</span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  962  mv </span><a style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;" href="http://18process.sh/">18process.sh</a><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;" /><a style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;" href="http://19process.sh/">19process.sh</a></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  963  nano <a style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;" href="http://19process.sh/">19process.sh</a></span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  964  nohup ./19process.sh</span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  965  top</span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  966  cd 00_working/</span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  967  cp ./17Pool/17process.sh ./18Pool/</span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  968  cd 18Pool/</span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  969  ls</span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  970  mv </span><a style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;" href="http://17process.sh/">17process.sh</a><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;" /><a style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;" href="http://18process.sh/">18process.sh</a></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  971  nano <a style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;" href="http://18process.sh/">18process.sh</a></span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  972  ls</span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  973  nano <a style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;" href="http://18process.sh/">18process.sh</a></span></span></span></div><div><span style="background-color: rgb(225, 225, 225);"><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal;">  974  nohup ./18process.sh</span></span></span></div><div><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo;">  975  cd 00_working/</span></span></div><div><span style="font-size: 11px;"><span style="background-color: rgb(225, 225, 225); font-size: 11px; font-family: Menlo;">  977  cp ../19Pool/19process.sh ./</span></span></div><div><br/></div><ul><li>make a new names_barcodes tab delimited file: </li><ul><li>from google docs copy names and barcodes into a nano file in the correct pool directory</li></ul></ul><div><ul><li>Rename files and Move into one directory</li><ul><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 16Pool]$ sh rename.for.dDocent_se_gz 16Pool_names.tsv</span></li><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 16Pool]$ cd ../17Pool/</span></li><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 17Pool]$ sh rename.for.dDocent_se_gz 17Pool_names.tsv</span></li><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 17Pool]$ cd ../18Pool/</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 18Pool]$ sh rename.for.dDocent_se_gz 18Pool_names.tsv</span></li><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 18Pool]$ cd ../19Pool/</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 19Pool]$ sh rename.for.dDocent_se_gz 19Pool_names.tsv</span></li></ul></ul><div><br/></div></div><ul><div><span style="list-style: none;"><ul><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 00_working]$ mv ./16Pool/APCL13_* ./samples/</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 00_working]$ mv ./17Pool/APCL13_* ./samples/</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 00_working]$ mv ./18Pool/APCL13_1* ./samples/</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 00_working]$ mv ./19Pool/APCL14_* ./samples/</span><br/><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 00_working]$ mv ./16Pool/16* ./logs/</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 00_working]$ mv ./17Pool/17* ./logs/</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 00_working]$ mv ./18Pool/18* ./logs/</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 00_working]$ mv ./19Pool/19* ./logs/</span></li></ul></span></div><li>Run ustacks of seq07 and seq08 together</li><ul><span style="list-style: none;"><ul><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">#!/bin/bash</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225);"><span style="background-color: rgb(255, 250, 165); font-size: 11px; font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;-evernote-highlight:true;">i=70001</span></span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">for file in ./samples/*.fq.gz</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">do</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">  ustacks -t gzfastq -p 20 -d -r -m 3 -M 5 --max_locus_stacks 3 -i $i \</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">-f ${file} -o ./lax-stacks</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">    let "i+=1";</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">done</span></li></ul></span></ul></ul><div><br/></div><ul><li>change name of nohup.out </li><ul><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;"> mv nohup.out ./logs/seq07_08_ustacks.out</span></li></ul><li>Do not run cstacks again at this time.  Could run cstacks with new files to generate a more comprehensive catalog but we can do that in the future.  Currently using the catalog that is made up of the samples with the most loci from SEQ03, SEQ04, SEQ05 generated post rxstacks</li><li>copy catalog from the lax-rxstacks folder to the lax-stacks folder</li><ul><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 00_working]$ cp ./lax-rxstacks/batch_1.catalog.* ./lax-stacks/</span></li></ul><li>Run sstacks (rxstacks needs the matches files).  Use the rx-catalogs</li><ul><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 00_working]$ nohup ./sstacks-lax.sh </span></li><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">#!/bin/bash</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">for file in $(ls -1 ./lax-stacks/*.tags.tsv.gz \</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">| grep -v catalog | perl -pe 's/\.tags\.tsv.gz//')</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">do</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">    sstacks -p 20 -b 1 -c ./lax-stacks/batch_1 \</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">            -s $file \</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">            -o ./lax-stacks/</span></li></ul></ul><div><br/></div><ul><li><br/></li><li>Run rxstacks:</li><ul><li>copy catalog from the lax-rxstacks folder to the lax-stacks folder</li><ul><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 00_working]$ cp ./lax-rxstacks/batch_1.catalog.* ./lax-stacks/</span></li></ul><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">[michelles@amphiprion 00_working]$ nohup ./rxstacks.sh</span></li><li><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">#!/bin/bash</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">#Run rxstacks, batch 1, 10 threads - the catalog files have to \</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">#be in the ./lax-stacks directory, copy them there now if needed.</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">    rxstacks -b 1 -t 25 \</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">--conf_filter --conf_lim 0.25 \</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">--model_type bounded --bound_high 0.1 \</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">--prune_haplo \</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">--lnl_lim -8.0 \</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">--lnl_dist \</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">-P ./lax-stacks \</span><br/><span style="font-size: 11px; background-color: rgb(225, 225, 225); font-family: Menlo; font-style: normal; font-weight: normal; line-height: normal;">-o ./lax-rxstacks</span></li></ul></ul><div><br/></div><ul><li>change name of nohup.out to 05seq_rxstacks.out</li><li>Run sstacks: nohup ./rxsstacks.sh</li><ul><li><span style="font-size: 14px; background-color: rgb(235, 235, 235); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">#!/bin/bash</span><br/><span style="font-size: 14px; background-color: rgb(235, 235, 235); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">#Run sstacks</span><br/><span style="font-size: 14px; background-color: rgb(235, 235, 235); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">for file in $(ls -1 ./lax-rxstacks/*.tags.tsv \</span><br/><span style="font-size: 14px; background-color: rgb(235, 235, 235); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">| grep -v catalog | perl -pe 's/\.tags\.tsv//')</span><br/><span style="font-size: 14px; background-color: rgb(235, 235, 235); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">do</span><br/><span style="font-size: 14px; background-color: rgb(235, 235, 235); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">    sstacks -p 25 -b 1 -c ./lax-rxstacks/batch_1 \</span><br/><span style="font-size: 14px; background-color: rgb(235, 235, 235); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">            -s $file \</span><br/><span style="font-size: 14px; background-color: rgb(235, 235, 235); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">            -o ./lax-rxstacks/</span><br/><span style="font-size: 14px; background-color: rgb(235, 235, 235); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">done</span></li></ul><li>change name of nohup.out to 05seq_sstacks.out</li><li>Move samples to the lax-stacks and rx-stacks directories in philippines/genotyping for all to use<br/><br/><br/><br/><br/></li><li><span style="color: rgb(0, 143, 0);">Run populations on all APCL samples (not just this seq batch)- don’t filter this time around (no -m or -r, etc) </span></li><ul><li><span style="font-size: 14px; background-color: rgb(235, 235, 235); color: rgb(0, 143, 0); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">#!/bin/bash</span><br/><span style="font-size: 14px; background-color: rgb(235, 235, 235); color: rgb(0, 143, 0); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;"># Calculate population statistics and export several output files.</span><br/><span style="font-size: 14px; background-color: rgb(235, 235, 235); color: rgb(0, 143, 0); font-family: 'Courier New'; font-style: normal; font-weight: normal; line-height: normal;">populations -b 1 -P ./lax-rxstacks/ -s -t 15</span></li></ul><li><span style="color: rgb(0, 143, 0);">change name of nohup.out to YYMMDD_populations.out</span></li></ul><div><br/></div><div><br/></div><ul><li><span style="color: rgb(0, 143, 0);">Create a mysql database</span></li><ul><li><span style="font-size: 11px; color: rgb(0, 143, 0); font-family: Menlo;">[michelles@amphiprion ~]$ mysql -plarvae168</span></li><li><span style="font-size: 11px; color: rgb(0, 143, 0); font-family: Menlo;">mysql&gt; create database seq05;</span></li><li><span style="font-size: 11px; color: rgb(0, 143, 0); font-family: Menlo;">mysql&gt; show databases;</span></li><li><span style="font-size: 11px; color: rgb(0, 143, 0); font-family: Menlo;">mysql&gt; exit</span></li></ul><li><span style="color: rgb(0, 143, 0);">Apply stacks configuration to database:</span></li><ul><li><span style="font-size: 11px; color: rgb(0, 143, 0); font-family: Menlo;">[michelles@amphiprion ~]$ mysql -plarvae168 seq05 &lt; ~/local/share/stacks/sql/stacks.sql</span></li></ul><li><span style="color: rgb(0, 143, 0);">Load radtags to database</span></li><ul><li><span style="font-size: 11px; color: rgb(0, 143, 0); font-family: Menlo;">[michelles@amphiprion rxstacks]$ load_radtags.pl -D seq05 -p ./ -b 1 -c -B</span></li></ul><li><span style="color: rgb(0, 143, 0);">Index database</span></li><ul><li><span style="font-size: 11px; color: rgb(0, 143, 0); font-family: Menlo;">[michelles@amphiprion rxstacks]$ <span style="font-size: 11px; color: rgb(0, 143, 0); font-family: Menlo;"><a style="font-size: 11px; font-family: Menlo;" href="http://index_radtags.pl/">index_radtags.pl</a> -D seq05 -c -t</span></span></li></ul><li><span style="color: rgb(0, 143, 0);">Move the matches, snaps, alleles, and tags files into a combined folder to run all populations together - <span style="background-color: rgb(255, 250, 165); color: rgb(0, 143, 0);-evernote-highlight:true;">can this be done with the export script? - Can these files be stored in mysql and then extracted just for this run?</span></span></li><li><span style="color: rgb(0, 143, 0);">Run populations to produce gene pop file - <span style="background-color: rgb(255, 250, 165); color: rgb(0, 143, 0);-evernote-highlight:true;">can’t run all of the samples from multiple runs in the same populations - unless you change the “i” in the script to something that will generate a unique ID???</span></span></li><ul><li><span style="font-size: 11px; color: rgb(0, 143, 0); font-family: Menlo;">[michelles@amphiprion 01_seq04]$ cd rxstacks/</span></li><li><span style="color: rgb(0, 143, 0);"><span style="font-size: 11px; color: rgb(0, 143, 0); font-family: Menlo;">[michelles@amphiprion rxstacks]$ nohup </span> <span style="font-size: 11px; color: rgb(0, 143, 0); font-family: Menlo;">populations -b 1 -P ./ -t 10 -r 90 -m 30 -s --genepop where m is the coverage and r is the percent of the population.  Start at 90/30, try 90/10, 80/30, 80/10, etc until you get 200 loci</span></span></li></ul><li><span style="color: rgb(0, 143, 0);">In Windows,</span></li><li><span style="color: rgb(0, 143, 0); font-family: monospace;">Logged in to windows using the larva password</span><br/><span style="color: rgb(0, 143, 0); font-family: monospace;">Started Cervus</span><br/><span style="color: rgb(0, 143, 0); font-family: monospace;">Click on Tools&gt;Convert Genotype File&gt;Genepop to Cervus</span><br/><span style="color: rgb(0, 143, 0); font-family: monospace;">2 digit format</span><br/><span style="color: rgb(0, 143, 0); font-family: monospace;">do not use first ID as population name</span><br/><span style="color: rgb(0, 143, 0); font-family: monospace;">Converted 192 individuals in one population at 1132 loci</span><br/><span style="color: rgb(0, 143, 0); font-family: monospace;">Clicked on Analysis&gt;Allele Frequency </span><span style="color: rgb(0, 143, 0); font-family: monospace;">Analysis</span><br/><span style="color: rgb(0, 143, 0); font-family: monospace;">Choose the cervus file just created</span><br/><span style="color: rgb(0, 143, 0); font-family: monospace;">ID in column 2</span><br/><span style="color: rgb(0, 143, 0); font-family: monospace;">First allele in column 3</span><br/><span style="color: rgb(0, 143, 0); font-family: monospace;">Number of loci 1132 </span><span style="color: rgb(0, 143, 0); font-family: monospace;">gives error and says there are 1134 loci, so running that</span><br/><span style="color: rgb(0, 143, 0); font-family: monospace;">Save as seq04</span><br/><span style="color: rgb(0, 143, 0); font-family: monospace;">OK</span></li><li><span style="color: rgb(0, 143, 0);">Run identity analysis to eliminate duplicate individuals</span></li><li><span style="color: rgb(0, 143, 0); font-family: monospace;">Now run a simulation of parentage analysis</span><span style="color: rgb(0, 143, 0); font-family: monospace;">Click on analysis&gt;simulation of parentage analysis&gt;sexes of pair unknown</span><span style="color: rgb(0, 143, 0); font-family: monospace;">Change parent number to </span><span style="color: rgb(0, 143, 0); font-family: monospace;">Saved as seq04simpar</span><span style="color: rgb(0, 143, 0); font-family: monospace;">Change to LOD</span></li><li><br/></li><li><span style="color: rgb(0, 143, 0);">Ran simulated parentage with 2000 parents, 5000 offspring 0.1 proport samples, .86 typed loci, .01 mismatch, LOD.  Computer says it will take 2 hours. - computer froze, dropped it down to 1000 parents, 2000 offspring - took 6+ hours to run</span></li><li><span style="color: rgb(0, 143, 0);">Create parent and offspring files: <a style="color: rgb(0, 143, 0);" href="evernote:///view/603126/s5/5120bb1a-bb28-4773-ae9f-6cf0cc684d66/5120bb1a-bb28-4773-ae9f-6cf0cc684d66/">To make an adult/juvenile file</a></span></li><li><span style="color: rgb(0, 143, 0);">Run parentage analysis in Cervus - make sure the csv’s have unix line endings in komodo (if only 1 offspring runs, this is the problem).</span></li><li><br/></li><li><span style="color: rgb(0, 143, 0);">Run </span></li><li><br/></li><li><span style="color: rgb(0, 143, 0);">If running colony, need a marker file that contains the marker IDs, if they are dominant or codominant, and gene dropping, mutation rates.</span></li></ul><div><br/></div></body></html>